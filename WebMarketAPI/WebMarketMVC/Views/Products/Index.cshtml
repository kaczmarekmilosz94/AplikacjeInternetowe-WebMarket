@model IEnumerable<WebMarket.Entities.Models.Product>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@{var categories = Model.Select(p => p.Category).Distinct();}
<div class="dashboard">
    <div class="navigation">
       
        @foreach (var category in categories)
        {
            <div id="@category.Id" class="flex-label" onclick="HandleCheckbox('#@category.Id')">
                <span>@category.Name</span>
                <div class="checkbox"></div>
            </div>
        }
    </div>

    <div class="data">
        @foreach (var item in Model)
        {
            <div class="product" category="@item.CategoryId">
                <div>
                    <img src="@Url.Content(item.ImageURL)" />
                </div>

                <div>
                    <h3>@item.Name</h3>
                    <hr />
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Morbi maximus sit amet erat quis accumsan. In laoreet, ipsum non sodales laoreet, enim dui tempus tortor, eget bibendum sapien nisl maximus tortor.</p>

                    <div class="prdoduct-buttons">
                        <div class="prdoduct-buttons">
                            <h5>@item.Price zł</h5>
                        </div>
                        <div>
                            <div class="btn btn-custom">DO KOSZYKA</div>
                            <a href="/User/AddToBasket?productId=@item.Id"><div class="btn btn-custom">KUP TERAZ</div></a>
                        </div>
                    </div>
                </div>
            </div>
        }
    </div>
</div>
